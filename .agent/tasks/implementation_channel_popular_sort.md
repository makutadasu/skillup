# チャンネル監視機能: 人気動画スイッチの実装

## 概要
チャンネル監視機能において、従来の「最新の動画」だけでなく「人気の動画（TOP10）」も取得・選択できるように機能を拡張しました。

## 変更点

### 1. UIの追加 (`src/app/page.tsx`)
- チャンネル入力欄の上に、**「最新動画 (10件)」** と **「人気の動画 (10選)」** を切り替えるスイッチボタンを追加しました。
- 選択状態に応じて、取得する動画のリストが切り替わります。

### 2. APIロジックの変更 (`src/lib/youtube.ts`, `src/app/api/channel/route.ts`)
- `getChannelVideos` 関数を拡張し、`sortBy` パラメータ ('date' | 'viewCount') を受け取るように変更しました。
- 'viewCount' (人気順) が選択された場合、YouTube Data API の Search エンドポイントを使用して、そのチャンネル内で再生回数の多い動画上位10件を取得します。
- 'date' (最新順) の場合は、従来通り Uploads プレイリストから最新10件を取得します（APIコスト節約のため）。

## 注意点
- **API割り当て (Quota)**: 
  - 「最新動画」の取得はコストが低い (1 unit) ですが、「人気の動画」の取得には Search API を使用するため、1回あたり **100 units** のコストがかかります。
  - 通常の無料枠 (10,000 units/day) であれば、1日あたり約100回の人気動画検索が可能です。頻繁に連打すると上限に達する可能性がある点にご留意ください。

## 確認方法
1. アプリケーションをリロードします。
2. 「チャンネル監視」タブを開きます。
3. チャンネルIDまたはハンドルを入力します。
4. 「人気の動画 (10選)」ボタンをクリックして選択状態にします。
5. 「取得」ボタンを押すと、そのチャンネルの再生回数トップ10の動画が表示されます。
